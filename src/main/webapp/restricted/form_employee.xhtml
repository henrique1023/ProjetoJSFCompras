<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/restricted/Templates/templateMenusPrime.xhtml">
	<h:head>
		<link rel="StyleSheet" type="text/css" href="./css/stylesEmployee.css" />
		<script>
function excluir(id)
{
var x;
var r=confirm("Escolha um valor!");
if (r==true)
  {
  x="você pressionou OK!";
  }
else
  {
  x="Você pressionou Cancelar!";
  }
document.getElementById("demo").innerHTML=x;
}
</script>
	</h:head>
	<h1>Lista de Empregados</h1>
	<h:form id="form_button">
		<p:commandButton styleClass="ui-button-raised ui-button-help" id="button_search"
			icon="pi pi-search" value="Pesquisar"
			action="#{employeeBean.searchAllEmployee}">
			<f:ajax execute="@form" render="tableView"></f:ajax>
		</p:commandButton>

		<p:commandButton class="button" id="button_clean" icon="pi pi-times"
			value="Limpar" styleClass="ui-button-danger"
			action="#{employeeBean.clearListEmployee}">
			<f:ajax execute="@form" render="tableView"></f:ajax>
		</p:commandButton>

	</h:form>
	<h:panelGroup styleClass="center" id="tableView">
		<p:dataTable value="#{employeeBean.employees}" var="e" border="3"
			id="table">
			<p:column headerText="Opções">
				<p:commandButton icon="pi pi-pencil"
					styleClass="rounded-button ui-button-help"
					action="#{employeeBean.editar(e)}">
				</p:commandButton>
				<p:growl id="growl" showDetail="true" />
					<p:commandButton icon="pi pi-times"
						styleClass="rounded-button ui-button-danger"
					 action="#{employeeBean.instanciaDelete(e)}" >
					 <f:ajax execute="@form"></f:ajax>
					</p:commandButton>
			</p:column>
			<p:column headerText="Nome">#{e.name}</p:column>
			<p:column headerText="Sobrenome">#{e.lastname}</p:column>
			<p:column headerText="CPF">#{e.cpf}</p:column>
			<p:column headerText="Data de Aniversario">#{e.dataFormat()}</p:column>
			<p:column headerText="RG">#{e.rg}</p:column>
			<p:column headerText="Numero de registro">#{e.registerEmployee}</p:column>
			<p:column headerText="Salario">#{e.salary}</p:column>
			<p:column headerText="Telefone">#{e.telefone}</p:column>
			<p:column headerText="Função">#{e.funcao}</p:column>
		</p:dataTable>
	</h:panelGroup>
</ui:decorate>