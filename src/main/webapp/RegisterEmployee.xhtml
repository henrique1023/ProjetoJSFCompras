<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<!-- CSS only -->
	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
		crossorigin="anonymous" />
	<h:outputStylesheet library="css" name="styles.css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Pagina</title>
	<!-- JavaScript Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
		crossorigin="anonymous"></script>
</h:head>
<h:body>
	<p:messages showDetail="Chave necessaria" />
	<p:autoUpdate on="descrição" />
	<h1>Cadastrar Evento</h1>
	<!-- criando os campos para inserir os dados -->
	<div class="formulario center">
		<h:form id="form">
			<h:panelGrid columns="2">
				<p:outputLabel value="Nome do Empregado:" />
				<p:inputText value="#{employeeBean.employee.name}" required="true" />
				<p:outputLabel value="Sobrenome:" />
				<p:inputText value="#{employeeBean.employee.lastname}"
					required="true" />
				<p:outputLabel value="RG:" />
				<p:inputText value="#{employeeBean.employee.rg}" />
				<p:outputLabel value="CPF:" />
				<p:inputText value="#{employeeBean.employee.cpf}" />
				<p:outputLabel value="Data aniversário:" />
				<p:calendar value="#{employeeBean.employee.birthday}"
					id="vendorStartDateInputTxt" pattern="dd/MM/yyyy" required="true">
				</p:calendar>
				<h:panelGroup styleClass="center">
				<h:commandButton id="btn-enviar" value="Cadastrar"
						action="#{employeeBean.addEmployee}" uptade="form table" > 
						<f:ajax execute="@form" render="tableView"> </f:ajax>
						</h:commandButton>
				</h:panelGroup>
			</h:panelGrid>
		</h:form>
	</div>

	<!-- Como fazer uma lista com os itens inseridos -->
	<h1>Lista de Eventos</h1>

	<h:panelGroup styleClass="center" id="tableView">
		<p:dataTable value="#{employeeBean.employees}" var="e" border="3"
			id="table">
			<p:column headerText="Nome">#{e.name}</p:column>
			<p:column headerText="Sobrenome">#{e.lastname}</p:column>
			<p:column headerText="CPF">#{e.cpf}</p:column>
			<p:column headerText="Data de Aniversario">#{e.birthday}</p:column>
		</p:dataTable>
	</h:panelGroup>
</h:body>
</html>